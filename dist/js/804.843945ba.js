"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[804],{77659:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=function(){var e=this,t=this,a=t._self._c;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"会员UID"}},[a("a-input",{attrs:{"allow-clear":""},model:{value:t.queryParam.id,callback:function(e){t.$set(t.queryParam,"id",e)},expression:"queryParam.id"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"邮箱"}},[a("a-input",{attrs:{"allow-clear":""},model:{value:t.queryParam.email,callback:function(e){t.$set(t.queryParam,"email",e)},expression:"queryParam.email"}})],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"实名状态"}},[a("a-select",{attrs:{"default-value":"0",placeholder:"请选择"},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[a("a-select-option",{attrs:{value:"1"}},[t._v("已实名")]),a("a-select-option",{attrs:{value:"2"}},[t._v("未实名")])],1)],1)],1),a("a-col",{attrs:{md:4,sm:24}},[a("a-form-item",{attrs:{label:"盈利/亏损"}},[a("a-select",{attrs:{"default-value":"0",placeholder:"请选择"},model:{value:t.queryParam.type,callback:function(e){t.$set(t.queryParam,"type",e)},expression:"queryParam.type"}},[a("a-select-option",{attrs:{value:"win"}},[t._v("盈利")]),a("a-select-option",{attrs:{value:"loss"}},[t._v("亏损")]),a("a-select-option",{attrs:{value:"normal"}},[t._v("正常")])],1)],1)],1),a("a-col",{attrs:{md:t.advanced?24:8,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons",style:t.advanced&&{float:"right",overflow:"hidden"}||{}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.table.refresh(!0)}}},[t._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[t._v("重置")])],1)])],1)],1)],1),a("s-table",{ref:"table",attrs:{columns:t.columns,data:t.loadData,scroll:{x:"max-content"},bordered:"",rowKey:"id",showPagination:"auto",size:"default"},scopedSlots:t._u([{key:"action",fn:function(e,r){return a("span",{},[[a("a",{on:{click:function(e){return t.detailUser(r)}}},[t._v("详情")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(e){return t.modifyType(r)}}},[t._v("修改状态")])]],2)}}])}),a("a-modal",{attrs:{confirmLoading:t.confirmLoading,visible:t.typeVisible,title:"盈亏状态"},on:{cancel:t.typeUpCance,ok:t.typeUpOk}},[a("a-form-model",{attrs:{"label-col":{span:4},model:t.userType,"wrapper-col":{span:14}}},[a("a-form-model-item",{attrs:{rules:{required:!0},label:"盈亏状态",prop:"type"}},[a("a-radio-group",{model:{value:t.userType.type,callback:function(e){t.$set(t.userType,"type",e)},expression:"userType.type"}},[a("a-radio",{attrs:{value:"win"}},[t._v(" 盈利")]),a("a-radio",{attrs:{value:"loss"}},[t._v(" 亏损")]),a("a-radio",{attrs:{value:"normal"}},[t._v(" 正常")])],1)],1)],1)],1),a("a-drawer",{staticClass:"detail-drawer",attrs:{closable:!1,visible:t.detailVisible,placement:"right",title:"详情",width:"65%"},on:{close:function(){return t.detailVisible=!1}}},[a("a-tabs",{on:{change:t.tabsChange},model:{value:t.tabsActive,callback:function(e){t.tabsActive=e},expression:"tabsActive"}},t._l(t.tabsList,(function(e){return a("a-tab-pane",{key:e.key,attrs:{tab:e.tab}})})),1),a("a-table",{staticStyle:{"word-break":"break-all"},attrs:{columns:t.detailColumn[t.tabsActive],"data-source":t.detailParams[t.tabsActive],pagination:!1,scroll:{x:!1,y:"calc(100vh - 440px)"},bordered:"",rowKey:"id"}})],1)],1)},l=[],s=a(82165),n=a(70206),i=a(30381),o=a.n(i),u=a(46077),d=[{title:"UID",dataIndex:"id"},{title:"邮箱",dataIndex:"email"},{title:"实名状态",dataIndex:"realStatus",customRender:function(e){return"1"===e?e:"未实名"}},{title:"eth地址",dataIndex:"evmAddress"},{title:"trx地址",dataIndex:"trxAddress"},{title:"btc地址",dataIndex:"btcAddress"},{title:"盈利/亏损",dataIndex:"type",customRender:function(e){return"win"===e?"盈利":"loss"===e?"亏损":"normal"===e?"正常":void 0}},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],c=[{title:"币种",dataIndex:"name"},{title:"数量",dataIndex:"amount"},{title:"类型",dataIndex:"type",customRender:function(e){return"trade"===e?"交易账户":"cloud"===e?"理财账户":"未知"}}],m=[{title:"金额",dataIndex:"amount"},{title:"数量",dataIndex:"num"},{title:"买入/卖出",dataIndex:"type",customRender:function(e){return"buy"===e?"买入":"sale"===e?"卖出":"未知"}},{title:"日期",dataIndex:"createTime"},{title:"状态",dataIndex:"status",customRender:function(e){return"1"===e?"已成交":"2"===e?"挂单":"3"===e?"已经撤单":"未知"}}],p=[{title:"买涨/买跌",dataIndex:"orderType",customRender:function(e){return"buy"===e?"买涨":"sale"===e?"买跌":"未知"}},{title:"盈亏",dataIndex:"resAmount"},{title:"金额",dataIndex:"buyAmount"},{title:"买入价格",dataIndex:"price"},{title:"平仓价格",dataIndex:"finalPrice"},{title:"交易产品",dataIndex:"name"}],f={name:"TableList",components:{STable:s.m7,Ellipsis:s.mH,CreateMemberForm:u.Z},data:function(){var e=this;return this.columns=d,{detailColumn:{wallets:c,tradeOrders:m,secondOrders:p},editLevel:!1,formState:{level:"0",id:""},confirmLoading:!1,typeVisible:!1,advanced:!1,queryParam:{},userType:{type:""},loadData:function(t){var a=Object.assign({},t,e.queryParam);return(0,n.tK)(a).then((function(e){return e.data}))},detailVisible:!1,tabsList:[{tab:"钱包余额",key:"wallets"},{tab:"现货交易",key:"tradeOrders"},{tab:"秒合约交易",key:"secondOrders"}],tabsActive:"wallets",detailParams:{}}},methods:{tabsChange:function(e){},disabledDate:function(e){if(this.queryParam.startDate)return e<o()(this.queryParam.startDate)},modifyType:function(e){this.userType.id=e.id,this.userType.type=e.type,this.typeVisible=!0},typeUpOk:function(){var e=this;(0,n.lQ)(this.userType).then((function(){e.typeVisible=!1,e.$refs.table.refresh(!0),e.upUserModel={}})).catch((function(){e.visible=!1,e.upUserModel={}}))},typeUpCance:function(){this.typeVisible=!1,this.userType={}},detailUser:function(e){var t=this;(0,n.n3)(e.id).then((function(e){t.detailVisible=!0,t.detailParams=e.data}))}}},v=f,b=a(1001),y=(0,b.Z)(v,r,l,!1,null,null,null),h=y.exports},46077:function(e,t,a){a.d(t,{Z:function(){return c}});a(68309);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.ruleForm&&e.ruleForm.id?"编辑会员":"新增会员",width:640,visible:e.visible,confirmLoading:e.loading},on:{ok:e.confirmHandler,cancel:e.cancelHandler}},[t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-col":{span:5},"wrapper-col":{span:15}}},[t("a-form-model-item",{attrs:{label:"会员名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入会员名称",allowClear:""},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),t("a-form-model-item",{attrs:{label:"会员手机号码",prop:"phone"}},[t("a-input",{attrs:{placeholder:"请输入会员手机号码",allowClear:""},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),t("a-form-model-item",{attrs:{label:"会员等级",prop:"userLevel"}},[t("a-select",{attrs:{allowClear:"",placeholder:"请选择会员等级"},model:{value:e.ruleForm.userLevel,callback:function(t){e.$set(e.ruleForm,"userLevel",t)},expression:"ruleForm.userLevel"}},e._l(e.userLevelArr,(function(a){return t("a-select-option",{key:a.value,attrs:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])})),1)],1),t("a-form-model-item",{attrs:{label:"推荐人",prop:"tjr"}},[t("a-input",{attrs:{placeholder:"请输入推荐人",allowClear:""},model:{value:e.ruleForm.tjr,callback:function(t){e.$set(e.ruleForm,"tjr",t)},expression:"ruleForm.tjr"}})],1),t("a-form-model-item",{attrs:{label:"运营中心",prop:"yyzx"}},[t("a-radio-group",{attrs:{"default-value":"1"},model:{value:e.ruleForm.yyzx,callback:function(t){e.$set(e.ruleForm,"yyzx",t)},expression:"ruleForm.yyzx"}},[t("a-radio",{attrs:{value:"1"}},[e._v(" 是 ")]),t("a-radio",{attrs:{value:"2"}},[e._v(" 否 ")])],1)],1),t("a-form-model-item",{attrs:{label:"分公司",prop:"fgs"}},[t("a-radio-group",{attrs:{"default-value":"1"},model:{value:e.ruleForm.fgs,callback:function(t){e.$set(e.ruleForm,"fgs",t)},expression:"ruleForm.fgs"}},[t("a-radio",{attrs:{value:"1"}},[e._v(" 是 ")]),t("a-radio",{attrs:{value:"2"}},[e._v(" 否 ")])],1)],1)],1)],1)],1)},l=[],s=a(70206),n=[{value:"1",label:"个人代理"},{value:"2",label:"企业代理"},{value:"3",label:"县级代理"},{value:"4",label:"城市代理"},{value:"5",label:"省级代理"}],i={data:function(){return{visible:!1,loading:!1,ruleForm:{},rules:{name:[{required:!0,message:"请输入会员名称",trigger:"blur"}],phone:[{required:!0,message:"请输入会员手机号码",trigger:"blur"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的手机号码"}],userLevel:[{required:!0,message:"请选择会员等级",trigger:"change"}],yyzx:[{required:!0,message:"请选择运营中心"}],fgs:[{required:!0,message:"请选择分公司"}],tjr:[{required:!0,message:"请输入推荐人",trigger:"blur"}]},userLevelArr:n}},methods:{open:function(e){var t=this;e.userLevel&&(e.userLevel=e.userLevel+""),this.ruleForm=e,this.visible=!0,setTimeout((function(){t.$refs.ruleForm.clearValidate()}),100)},cancelHandler:function(){this.visible=!1},confirmHandler:function(){var e=this;this.$refs.ruleForm.validate((function(t){t&&(e.loading=!0,(0,s.createOrUpdateMember)(e.ruleForm).then((function(){e.loading=!1,e.$notification.success({message:"成功提示",description:"".concat(e.ruleForm.id?"编辑":"创建","会员成功")}),e.visible=!1,e.$emit("ok")})).catch((function(){e.loading=!1})))}))}}},o=i,u=a(1001),d=(0,u.Z)(o,r,l,!1,null,null,null),c=d.exports}}]);